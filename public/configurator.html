<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurator Pret | Nova Detailing Bucuresti</title>
    <meta name="description" content="Calculeaza pretul exact pentru serviciile de auto detailing. Configurator transparent cu recomandari ale expertului.">
    <link rel="canonical" href="https://novadetailing.ro/configurator.html">
    <meta name="keywords" content="pret detailing auto, calculator pret detailing, configurator detailing Bucuresti">

    <!-- Open Graph -->
    <meta property="og:title" content="Configurator Pret | Nova Detailing">
    <meta property="og:description" content="Calculeaza pretul exact pentru detailing-ul masinii tale. Pachete de la 1.800 lei.">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="ro_RO">
    <meta property="og:url" content="https://novadetailing.ro/configurator.html">
    <meta property="og:image" content="https://novadetailing.ro/assets/car_detailing_carefree_arizona.webp">
    <meta property="og:site_name" content="Nova Detailing">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Configurator Pret | Nova Detailing">
    <meta name="twitter:description" content="Calculeaza pretul exact pentru detailing-ul masinii tale. Pachete de la 1.800 lei.">
    <meta name="twitter:image" content="https://novadetailing.ro/assets/car_detailing_carefree_arizona.webp">

    <!-- PWA & Favicon -->
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="theme-color" content="#B8962F">
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#B8962F',
                        'primary-light': '#C9A84C',
                        'primary-dark': '#8B7226',
                        secondary: '#1A1A1A',
                        light: {
                            50: '#FFFFFF', 100: '#F9FAFB', 200: '#F3F4F6', 300: '#E5E7EB',
                            400: '#D1D5DB', 500: '#9CA3AF', 600: '#6B7280', 700: '#4B5563',
                            800: '#374151', 900: '#1F2937', 950: '#111827'
                        }
                    },
                    fontFamily: {
                        heading: ['Montserrat', 'system-ui', 'sans-serif'],
                        body: ['Inter', 'system-ui', 'sans-serif']
                    },
                    boxShadow: {
                        'gold': '0 4px 20px rgba(184, 150, 47, 0.15)',
                        'gold-lg': '0 8px 40px rgba(184, 150, 47, 0.25)',
                        'soft': '0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06)',
                        'soft-lg': '0 4px 12px rgba(0, 0, 0, 0.08)'
                    }
                }
            }
        }
    </script>

    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        [x-cloak] { display: none !important; }
        .gold-line { background: linear-gradient(90deg, transparent, #B8962F, transparent); }
        /* Scroll-triggered reveal */
        .reveal { opacity: 0; transform: translateY(32px); transition: opacity 0.7s cubic-bezier(0.22,1,0.36,1), transform 0.7s cubic-bezier(0.22,1,0.36,1); }
        .reveal.revealed { opacity: 1; transform: translateY(0); }
        .reveal-scale { opacity: 0; transform: scale(0.92); transition: opacity 0.7s cubic-bezier(0.22,1,0.36,1), transform 0.7s cubic-bezier(0.22,1,0.36,1); }
        .reveal-scale.revealed { opacity: 1; transform: scale(1); }
        .stagger-1 { transition-delay: 0.1s; } .stagger-2 { transition-delay: 0.2s; }
        .stagger-3 { transition-delay: 0.3s; } .stagger-4 { transition-delay: 0.4s; }
        .btn-press { position: relative; overflow: hidden; }
        .btn-press:active { transform: scale(0.97); }
        .card-hover { transition: transform 0.3s cubic-bezier(0.22,1,0.36,1), box-shadow 0.3s cubic-bezier(0.22,1,0.36,1), border-color 0.3s; }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 32px rgba(0,0,0,0.08); }
        .nav-scrolled { box-shadow: 0 4px 20px rgba(0,0,0,0.08) !important; }
        html { scroll-behavior: smooth; }
    </style>
</head>
<body class="bg-light-50 text-light-950 font-body antialiased">

    <!-- Navigation -->
    <nav id="main-nav" class="fixed top-0 w-full bg-white/90 backdrop-blur-xl border-b-2 border-primary shadow-soft z-50" x-data="{ open: false }">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="/index.html" class="flex items-center">
                    <img src="/assets/logo.svg" alt="Nova Detailing" class="h-8 w-auto" width="360" height="50">
                </a>
                <div class="md:hidden">
                    <button @click="open = !open" class="p-2 text-light-700 hover:text-primary focus:outline-none focus:text-primary transition-colors">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path x-show="!open" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            <path x-show="open" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="/index.html" class="text-light-700 hover:text-primary transition-colors text-sm font-heading">Acasa</a>
                    <a href="/servicii.html" class="text-light-700 hover:text-primary transition-colors text-sm font-heading">Servicii</a>
                    <a href="/configurator.html" class="text-primary font-medium text-sm font-heading">Configurator</a>
                    <a href="/scoala.html" class="text-light-700 hover:text-primary transition-colors text-sm font-heading">Scoala</a>
                    <a href="/despre.html" class="text-light-700 hover:text-primary transition-colors text-sm font-heading">Despre</a>
                    <a href="/galerie.html" class="text-light-700 hover:text-primary transition-colors text-sm font-heading">Galerie</a>
                    <a href="/contact.html" class="text-light-700 hover:text-primary transition-colors text-sm font-heading">Contact</a>
                    <a href="/rezervare.html" class="bg-primary text-white px-5 py-2 rounded-md hover:bg-primary-light transition-all duration-200 text-sm font-heading font-semibold">Rezervare</a>
                </div>
            </div>
        </div>
        <div x-show="open" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0 -translate-y-2" x-transition:enter-end="opacity-100 translate-y-0" x-transition:leave="transition ease-in duration-150" x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 -translate-y-2" class="md:hidden bg-white/95 backdrop-blur-xl border-b border-light-300">
            <div class="px-4 py-4 space-y-2">
                <a href="/index.html" class="block px-3 py-2 text-light-700 hover:text-primary transition-colors font-heading text-sm">Acasa</a>
                <a href="/servicii.html" class="block px-3 py-2 text-light-700 hover:text-primary transition-colors font-heading text-sm">Servicii</a>
                <a href="/configurator.html" class="block px-3 py-2 text-primary font-semibold font-heading text-sm">Configurator</a>
                <a href="/scoala.html" class="block px-3 py-2 text-light-700 hover:text-primary transition-colors font-heading text-sm">Scoala</a>
                <a href="/despre.html" class="block px-3 py-2 text-light-700 hover:text-primary transition-colors font-heading text-sm">Despre</a>
                <a href="/galerie.html" class="block px-3 py-2 text-light-700 hover:text-primary transition-colors font-heading text-sm">Galerie</a>
                <a href="/contact.html" class="block px-3 py-2 text-light-700 hover:text-primary transition-colors font-heading text-sm">Contact</a>
                <a href="/rezervare.html" class="block px-3 py-2 bg-primary text-white rounded-md font-semibold font-heading text-sm text-center mt-2">Rezervare</a>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="relative pt-16 overflow-hidden" style="min-height: 340px;">
        <div class="absolute inset-0 z-0">
            <img src="/assets/car_detailing_carefree_arizona.webp" alt="Configurator pret detailing" class="w-full h-full object-cover" width="1024" height="585">
            <div class="absolute inset-0 bg-gradient-to-b from-white/80 via-white/60 to-white"></div>
        </div>
        <div class="relative z-10 flex items-center justify-center" style="min-height: 280px;">
            <div class="text-center px-4 reveal">
                <div class="w-12 h-0.5 gold-line mx-auto mb-6"></div>
                <h1 class="text-4xl sm:text-5xl font-heading font-bold text-light-950 mb-4 tracking-tight">Configurator Pret</h1>
                <p class="text-lg text-light-700 font-light max-w-2xl mx-auto">
                    Alege dimensiunea, starea si pachetul dorit. Pretul se calculeaza automat.
                </p>
            </div>
        </div>
    </section>

    <!-- Configurator -->
    <section class="py-16 bg-light-50" x-data="configurator()" x-cloak>
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">

                <!-- Configuration Panel -->
                <div class="md:col-span-1 lg:col-span-2 space-y-8">

                    <!-- Step 1: Car Size -->
                    <div class="bg-white rounded-xl border border-light-300 shadow-soft p-6 sm:p-8">
                        <p class="text-xs text-light-500 uppercase tracking-wider font-heading mb-2">Pasul 1 din 4</p>
                        <h3 class="text-xl font-heading font-semibold text-light-950 mb-6">
                            <span class="text-primary mr-2">1.</span> Dimensiune masina
                        </h3>
                        <div class="grid grid-cols-2 lg:grid-cols-4 gap-3">
                            <template x-for="(info, key) in sizes" :key="key">
                                <button
                                    @click="carSize = key; updatePrice()"
                                    :class="carSize === key ? 'border-primary bg-primary/10 ring-1 ring-primary' : 'border-light-400 hover:border-light-400'"
                                    class="p-4 rounded-xl border text-left transition-all duration-200"
                                >
                                    <div class="text-sm font-heading font-semibold text-light-950" x-text="info.label.split('(')[0].trim()"></div>
                                    <div class="text-xs text-light-600 mt-1" x-text="'(' + (info.label.split('(')[1] || '')"></div>
                                </button>
                            </template>
                        </div>
                    </div>

                    <!-- Step 2: Condition -->
                    <div class="bg-white rounded-xl border border-light-300 shadow-soft p-6 sm:p-8">
                        <p class="text-xs text-light-500 uppercase tracking-wider font-heading mb-2">Pasul 2 din 4</p>
                        <h3 class="text-xl font-heading font-semibold text-light-950 mb-6">
                            <span class="text-primary mr-2">2.</span> Starea masinii
                        </h3>
                        <div class="grid grid-cols-2 lg:grid-cols-4 gap-3">
                            <template x-for="(info, key) in conditions" :key="key">
                                <button
                                    @click="condition = key; updatePrice()"
                                    :class="condition === key ? 'border-primary bg-primary/10 ring-1 ring-primary' : 'border-light-400 hover:border-light-400'"
                                    class="p-4 rounded-xl border text-left transition-all duration-200"
                                >
                                    <div class="text-sm font-heading font-semibold text-light-950" x-text="info.label.split('(')[0].trim()"></div>
                                    <div class="text-xs text-light-600 mt-1" x-text="'(' + (info.label.split('(')[1] || '')"></div>
                                </button>
                            </template>
                        </div>
                    </div>

                    <!-- Step 3: Package -->
                    <div class="bg-white rounded-xl border border-light-300 shadow-soft p-6 sm:p-8">
                        <p class="text-xs text-light-500 uppercase tracking-wider font-heading mb-2">Pasul 3 din 4</p>
                        <h3 class="text-xl font-heading font-semibold text-light-950 mb-6">
                            <span class="text-primary mr-2">3.</span> Alege pachetul
                        </h3>
                        <div class="grid sm:grid-cols-2 gap-4">
                            <template x-for="pkg in packageList" :key="pkg.id">
                                <button
                                    @click="selectedPackage = pkg.id; updatePrice()"
                                    :class="selectedPackage === pkg.id ? 'border-primary bg-primary/5 ring-1 ring-primary' : 'border-light-400 hover:border-light-400'"
                                    class="relative p-5 rounded-xl border text-left transition-all duration-200"
                                >
                                    <div x-show="pkg.popular" class="absolute top-3 right-3 bg-primary text-white text-xs font-heading font-bold px-2 py-0.5 rounded-full">Popular</div>
                                    <span class="text-primary text-xs font-heading font-semibold uppercase tracking-wider" x-text="pkg.tier"></span>
                                    <h4 class="text-lg font-heading font-bold text-light-950 mt-1" x-text="pkg.name"></h4>
                                    <p class="text-light-600 text-sm mt-1" x-text="pkg.shortDescription"></p>
                                    <div class="flex items-baseline gap-1 mt-3">
                                        <span class="text-xl font-heading font-bold text-primary" x-text="formatNumber(getPackagePrice(pkg.id).min)"></span>
                                        <span class="text-light-600 text-sm" x-text="getPackagePrice(pkg.id).min !== getPackagePrice(pkg.id).max ? '- ' + formatNumber(getPackagePrice(pkg.id).max) + ' lei' : ' lei'"></span>
                                    </div>
                                    <div class="text-xs text-light-500 mt-1" x-text="pkg.duration"></div>
                                </button>
                            </template>
                        </div>
                    </div>

                    <!-- Step 4: Add-ons -->
                    <div class="bg-white rounded-xl border border-light-300 shadow-soft p-6 sm:p-8">
                        <p class="text-xs text-light-500 uppercase tracking-wider font-heading mb-2">Pasul 4 din 4</p>
                        <h3 class="text-xl font-heading font-semibold text-light-950 mb-6">
                            <span class="text-primary mr-2">4.</span> Servicii extra <span class="text-light-600 text-sm font-normal">(optional)</span>
                        </h3>
                        <div class="grid sm:grid-cols-2 gap-3">
                            <template x-for="addon in addonList" :key="addon.id">
                                <button
                                    @click="toggleAddon(addon.id)"
                                    :class="isAddonExcluded(addon.id) ? 'border-light-300 bg-light-100 opacity-60 cursor-not-allowed' : selectedAddons.includes(addon.id) ? 'border-primary bg-primary/5' : 'border-light-400 hover:border-light-400'"
                                    class="flex items-start gap-3 p-4 rounded-xl border text-left transition-all duration-200"
                                >
                                    <div class="flex-shrink-0 mt-0.5">
                                        <div :class="isAddonExcluded(addon.id) ? 'bg-green-500 border-green-500' : selectedAddons.includes(addon.id) ? 'bg-primary border-primary' : 'border-light-400'" class="w-5 h-5 rounded border-2 flex items-center justify-center">
                                            <svg x-show="selectedAddons.includes(addon.id) || isAddonExcluded(addon.id)" class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <div class="flex items-center justify-between">
                                            <span class="text-sm font-heading font-semibold" :class="isAddonExcluded(addon.id) ? 'text-light-600' : 'text-light-950'" x-text="addon.name"></span>
                                            <span class="text-sm font-semibold ml-2" :class="isAddonExcluded(addon.id) ? 'text-green-600' : 'text-primary'" x-text="isAddonExcluded(addon.id) ? 'Inclus in pachet' : addon.price > 0 ? '+' + addon.price + ' lei' : 'Gratis'"></span>
                                        </div>
                                        <p class="text-xs text-light-600 mt-0.5" x-text="addon.description"></p>
                                    </div>
                                </button>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Summary Sidebar -->
                <div class="lg:col-span-1">
                    <div class="sticky top-24 bg-white rounded-xl border border-light-300 shadow-soft p-6">
                        <h3 class="text-lg font-heading font-semibold text-light-950 mb-6">Sumar configuratie</h3>

                        <div class="space-y-3 text-sm mb-6">
                            <div class="flex justify-between">
                                <span class="text-light-600">Dimensiune:</span>
                                <span class="text-light-950 font-medium" x-text="sizes[carSize]?.label.split('(')[0].trim() || '-'"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-light-600">Stare:</span>
                                <span class="text-light-950 font-medium" x-text="conditions[condition]?.label.split('(')[0].trim() || '-'"></span>
                            </div>
                            <div class="border-t border-light-400 my-3"></div>
                            <div class="flex justify-between">
                                <span class="text-light-600">Pachet:</span>
                                <span class="text-light-950 font-medium" x-text="getSelectedPackageName()"></span>
                            </div>
                            <div x-show="selectedPackage" class="flex justify-between">
                                <span class="text-light-600">Pret pachet:</span>
                                <span class="text-primary font-semibold" x-text="getPackagePrice(selectedPackage).min === getPackagePrice(selectedPackage).max ? formatNumber(getPackagePrice(selectedPackage).min) + ' lei' : formatNumber(getPackagePrice(selectedPackage).min) + ' - ' + formatNumber(getPackagePrice(selectedPackage).max) + ' lei'"></span>
                            </div>
                        </div>

                        <!-- Selected add-ons -->
                        <div x-show="selectedAddons.length > 0" class="mb-6">
                            <div class="text-sm text-light-600 mb-2">Servicii extra:</div>
                            <div class="space-y-1">
                                <template x-for="addonId in selectedAddons" :key="addonId">
                                    <div class="flex justify-between text-sm">
                                        <span class="text-light-700" x-text="getAddonName(addonId)"></span>
                                        <span class="text-light-700" x-text="'+' + getAddonPrice(addonId) + ' lei'"></span>
                                    </div>
                                </template>
                            </div>
                        </div>

                        <!-- Total -->
                        <div class="border-t border-light-400 pt-4 mb-6">
                            <div class="flex justify-between items-baseline">
                                <span class="text-lg font-heading font-semibold text-light-950">Total estimat:</span>
                            </div>
                            <div class="mt-1">
                                <span x-show="selectedPackage" class="text-2xl font-heading font-bold text-primary" x-text="totalMin === totalMax ? formatNumber(totalMin) + ' lei' : formatNumber(totalMin) + ' - ' + formatNumber(totalMax) + ' lei'"></span>
                                <span x-show="!selectedPackage" class="text-sm text-light-500 italic">Selecteaza un pachet pentru a vedea pretul</span>
                            </div>
                            <p x-show="selectedPackage" class="text-xs text-light-500 mt-2" x-text="'Durata estimata: ' + getSelectedPackageDuration()"></p>
                            <p class="text-xs text-light-500 mt-1">* Preturile nu includ TVA</p>
                        </div>

                        <!-- Action Buttons -->
                        <div class="space-y-3">
                            <a
                                :href="selectedPackage ? '/rezervare.html?pachet=' + selectedPackage : '#'"
                                @click="if(selectedPackage) saveConfig()"
                                :class="selectedPackage ? 'bg-primary text-white hover:bg-primary-light shadow-gold cursor-pointer' : 'bg-light-300 text-light-600 cursor-not-allowed'"
                                class="btn-press block text-center px-6 py-3.5 rounded-md font-heading font-semibold transition-all duration-200"
                                x-text="selectedPackage ? 'Continua la rezervare' : 'Selecteaza un pachet'"
                            >
                            </a>

                            <a
                                :href="'https://wa.me/40742122222?text=' + encodeURIComponent(getWhatsAppText())"
                                target="_blank"
                                x-show="selectedPackage"
                                class="btn-press flex items-center justify-center gap-2 border border-light-400 text-light-700 px-6 py-3 rounded-md font-heading font-medium hover:border-primary hover:text-primary transition-all duration-200"
                            >
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                                Trimite pe WhatsApp
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-light-950 border-t border-light-300 py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
                <div class="sm:col-span-2 lg:col-span-1">
                    <a href="/" class="flex items-center mb-4">
                        <img src="/assets/logo.svg" alt="Nova Detailing" class="h-8 w-auto" loading="lazy" width="360" height="50">
                    </a>
                    <p class="text-light-400 text-sm mb-4">
                        Premium Auto Detailing & Scoala de Detailing in Bucuresti. 10+ ani de experienta.
                    </p>
                    <div class="flex gap-3">
                        <a href="#" class="w-9 h-9 rounded-lg bg-light-900 flex items-center justify-center text-light-400 hover:bg-primary/10 hover:text-primary transition-all" aria-label="Instagram">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
                        </a>
                        <a href="#" class="w-9 h-9 rounded-lg bg-light-900 flex items-center justify-center text-light-400 hover:bg-primary/10 hover:text-primary transition-all" aria-label="Facebook">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        </a>
                        <a href="#" class="w-9 h-9 rounded-lg bg-light-900 flex items-center justify-center text-light-400 hover:bg-primary/10 hover:text-primary transition-all" aria-label="YouTube">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                        </a>
                        <a href="https://www.tiktok.com/@novadetailing.ro?_r=1&_t=ZN-93mcoa3XtbS" class="w-9 h-9 rounded-lg bg-light-900 flex items-center justify-center text-light-400 hover:bg-primary/10 hover:text-primary transition-all" aria-label="TikTok">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/></svg>
                        </a>
                    </div>
                </div>
                <div>
                    <h3 class="text-sm font-heading font-semibold text-light-100 uppercase tracking-wider mb-4">Navigatie</h3>
                    <ul class="space-y-2">
                        <li><a href="/servicii.html" class="text-light-400 hover:text-primary transition-colors text-sm">Servicii</a></li>
                        <li><a href="/configurator.html" class="text-light-400 hover:text-primary transition-colors text-sm">Configurator Pret</a></li>
                        <li><a href="/galerie.html" class="text-light-400 hover:text-primary transition-colors text-sm">Galerie</a></li>
                        <li><a href="/rezervare.html" class="text-light-400 hover:text-primary transition-colors text-sm">Rezervare</a></li>
                        <li><a href="/blog.html" class="text-light-400 hover:text-primary transition-colors text-sm">Blog</a></li>
                        <li><a href="/faq.html" class="text-light-400 hover:text-primary transition-colors text-sm">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-heading font-semibold text-light-100 uppercase tracking-wider mb-4">Scoala</h3>
                    <ul class="space-y-2">
                        <li><a href="/scoala.html" class="text-light-400 hover:text-primary transition-colors text-sm">Cursuri Detailing</a></li>
                        <li><a href="/scoala.html#fundamentals" class="text-light-400 hover:text-primary transition-colors text-sm">Curs Fundamentals</a></li>
                        <li><a href="/scoala.html#advanced" class="text-light-400 hover:text-primary transition-colors text-sm">Curs Advanced</a></li>
                        <li><a href="/scoala.html#online" class="text-light-400 hover:text-primary transition-colors text-sm">Curs Online</a></li>
                        <li><a href="/despre.html" class="text-light-400 hover:text-primary transition-colors text-sm">Despre Noi</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-sm font-heading font-semibold text-light-100 uppercase tracking-wider mb-4">Contact</h3>
                    <ul class="space-y-3 text-sm">
                        <li><a href="tel:+40742122222" class="flex items-center gap-2 text-light-400 hover:text-primary transition-colors"><svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>+40 742 122 222</a></li>
                        <li><a href="mailto:contact@novadetailing.ro" class="flex items-center gap-2 text-light-400 hover:text-primary transition-colors"><svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>contact@novadetailing.ro</a></li>
                        <li class="flex items-start gap-2 text-light-400"><svg class="w-4 h-4 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>Bucuresti, Romania</li>
                        <li class="flex items-center gap-2 text-light-400"><svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>L-V: 8-18 | S: 8-16</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-light-800 mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4">
                <p class="text-light-500 text-sm">&copy; 2026 Nova Detailing. Toate drepturile rezervate.</p>
                <div class="flex space-x-6">
                    <a href="/politici.html" class="text-light-500 hover:text-primary transition-colors text-sm">Termeni & Conditii</a>
                    <a href="/politici.html#confidentialitate" class="text-light-500 hover:text-primary transition-colors text-sm">Confidentialitate</a>
                </div>
            </div>
        </div>
    </footer>

    <script type="module">
        import { packages, addons, sizeMultipliers, conditionMultipliers, calculatePrice } from './services-data.js';

        window.configuratorData = { packages, addons, sizeMultipliers, conditionMultipliers, calculatePrice };
    </script>

    <script>
        function configurator() {
            const data = window.configuratorData || {};
            const pkgs = data.packages || [];
            const addonsList = data.addons || [];
            const sizes = data.sizeMultipliers || {};
            const conditions = data.conditionMultipliers || {};
            const calcPrice = data.calculatePrice || (() => ({ min: 0, max: 0 }));

            const fmt = new Intl.NumberFormat('ro-RO');

            return {
                carSize: 'mare',
                condition: 'usoara',
                selectedPackage: '',
                selectedAddons: [],
                totalMin: 0,
                totalMax: 0,
                packageList: pkgs,
                addonList: addonsList,
                sizes: sizes,
                conditions: conditions,

                init() {
                    // Legacy size key migration
                    const keyMap = { compacta: 'medie', sedan: 'mare' };
                    if (keyMap[this.carSize]) this.carSize = keyMap[this.carSize];

                    const urlParams = new URLSearchParams(window.location.search);
                    let pachet = urlParams.get('pachet');
                    // Legacy package ID mapping
                    const legacyMap = { 'essential-interior': 'detailing-interior', 'essential-exterior': 'corectie-lac' };
                    if (pachet && legacyMap[pachet]) pachet = legacyMap[pachet];
                    if (pachet && pkgs.find(p => p.id === pachet)) {
                        this.selectedPackage = pachet;
                    }

                    // If data not loaded yet, wait for module
                    if (!pkgs.length) {
                        const checkData = setInterval(() => {
                            if (window.configuratorData && window.configuratorData.packages.length) {
                                this.packageList = window.configuratorData.packages;
                                this.addonList = window.configuratorData.addons;
                                this.sizes = window.configuratorData.sizeMultipliers;
                                this.conditions = window.configuratorData.conditionMultipliers;
                                this.updatePrice();
                                clearInterval(checkData);
                            }
                        }, 100);
                    } else {
                        this.updatePrice();
                    }
                },

                getPackagePrice(pkgId) {
                    if (!pkgId) return { min: 0, max: 0 };
                    const fn = window.configuratorData?.calculatePrice || calcPrice;
                    return fn(pkgId, this.carSize, this.condition) || { min: 0, max: 0 };
                },

                isAddonExcluded(addonId) {
                    if (!this.selectedPackage) return false;
                    const pkg = (this.packageList || pkgs).find(p => p.id === this.selectedPackage);
                    return pkg?.excludedAddons?.includes(addonId) || false;
                },

                toggleAddon(addonId) {
                    if (this.isAddonExcluded(addonId)) return;
                    const idx = this.selectedAddons.indexOf(addonId);
                    if (idx > -1) {
                        this.selectedAddons.splice(idx, 1);
                    } else {
                        this.selectedAddons.push(addonId);
                    }
                    this.updatePrice();
                },

                updatePrice() {
                    // Remove excluded addons when package changes
                    if (this.selectedPackage) {
                        const pkg = (this.packageList || pkgs).find(p => p.id === this.selectedPackage);
                        if (pkg?.excludedAddons) {
                            this.selectedAddons = this.selectedAddons.filter(id => !pkg.excludedAddons.includes(id));
                        }
                    }
                    const pkgPrice = this.getPackagePrice(this.selectedPackage);
                    let addonsTotal = 0;
                    this.selectedAddons.forEach(id => {
                        const addon = (this.addonList || addonsList).find(a => a.id === id);
                        if (addon) addonsTotal += addon.price;
                    });
                    this.totalMin = pkgPrice.min + addonsTotal;
                    this.totalMax = pkgPrice.max + addonsTotal;
                },

                getSelectedPackageName() {
                    if (!this.selectedPackage) return 'Neselectat';
                    const pkg = (this.packageList || pkgs).find(p => p.id === this.selectedPackage);
                    return pkg ? pkg.name : '-';
                },

                getSelectedPackageDuration() {
                    if (!this.selectedPackage) return '-';
                    const pkg = (this.packageList || pkgs).find(p => p.id === this.selectedPackage);
                    return pkg ? pkg.duration : '-';
                },

                getAddonName(addonId) {
                    const addon = (this.addonList || addonsList).find(a => a.id === addonId);
                    return addon ? addon.name : '-';
                },

                getAddonPrice(addonId) {
                    const addon = (this.addonList || addonsList).find(a => a.id === addonId);
                    return addon ? addon.price : 0;
                },

                formatNumber(n) {
                    return fmt.format(n);
                },

                saveConfig() {
                    const config = {
                        packageId: this.selectedPackage,
                        size: this.carSize,
                        condition: this.condition,
                        addons: this.selectedAddons,
                        totalMin: this.totalMin,
                        totalMax: this.totalMax,
                        timestamp: Date.now()
                    };
                    localStorage.setItem('novaConfig', JSON.stringify(config));
                },

                getWhatsAppText() {
                    const pkgName = this.getSelectedPackageName();
                    const sizeName = this.sizes[this.carSize]?.label.split('(')[0].trim() || this.carSize;
                    const condName = this.conditions[this.condition]?.label.split('(')[0].trim() || this.condition;
                    let text = `Buna ziua! ðŸ‘‹ As dori o oferta pentru:\n\n`;
                    text += `ðŸ“¦ Pachet: ${pkgName}\n`;
                    text += `ðŸš— Vehicul: ${sizeName}\n`;
                    text += `ðŸ“‹ Stare: ${condName}\n`;
                    if (this.selectedAddons.length) {
                        text += `âœ¨ Extra: ${this.selectedAddons.map(id => this.getAddonName(id)).join(', ')}\n`;
                    }
                    const totalText = this.totalMin === this.totalMax
                        ? `${this.formatNumber(this.totalMin)} lei`
                        : `${this.formatNumber(this.totalMin)} - ${this.formatNumber(this.totalMax)} lei`;
                    text += `ðŸ’° Total estimat: ${totalText}\n`;
                    text += `\nVa multumesc!`;
                    return text;
                }
            };
        }
    </script>
<script>
(function() {
    var revealEls = document.querySelectorAll('.reveal, .reveal-left, .reveal-right, .reveal-scale');
    if (revealEls.length && 'IntersectionObserver' in window) {
        var observer = new IntersectionObserver(function(entries) {
            entries.forEach(function(entry) {
                if (entry.isIntersecting) { entry.target.classList.add('revealed'); observer.unobserve(entry.target); }
            });
        }, { threshold: 0.15, rootMargin: '0px 0px -40px 0px' });
        revealEls.forEach(function(el) { observer.observe(el); });
    } else { revealEls.forEach(function(el) { el.classList.add('revealed'); }); }
    var nav = document.getElementById('main-nav');
    if (nav) {
        var ticking = false;
        window.addEventListener('scroll', function() {
            if (!ticking) { requestAnimationFrame(function() { nav.classList.toggle('nav-scrolled', window.scrollY > 50); ticking = false; }); ticking = true; }
        }, { passive: true });
    }
})();
</script>
</body>
</html>
