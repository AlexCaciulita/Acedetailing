<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>칉ntreb캒ri Frecvente - Detailer's Vision</title>
    <title>칉ntreb캒ri Frecvente - Scuderia Vision</title>
    <meta name="description" content="R캒spunsuri la 칥ntreb캒rile frecvente despre serviciile de auto detailing oferite de Scuderia Vision.">
    
    <!-- PWA -->
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="theme-color" content="#1E40AF">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1E40AF',
                        secondary: '#059669', 
                        accent: '#EA580C'
                    }
                }
            }
        }
    </script>
    
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
</head>
<body class="font-sans antialiased">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white/95 backdrop-blur-sm border-b border-gray-200 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <img src="/assets/logo.svg" alt="Scuderia Vision" class="h-8 w-auto">
                    <span class="ml-3 text-xl font-bold text-gray-900">Scuderia Vision</span>
                </div>
                
                <!-- Desktop menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="/index.html" class="text-gray-700 hover:text-primary transition-colors">Acas캒</a>
                    <a href="/servicii.html" class="text-gray-700 hover:text-primary transition-colors">Servicii</a>
                    <a href="/configurator.html" class="text-gray-700 hover:text-primary transition-colors">Configurator</a>
                    <a href="/rezervare.html" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">Rezervare</a>
                    <a href="/contact.html" class="text-gray-700 hover:text-primary transition-colors">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="pt-24 pb-12 bg-gradient-to-br from-primary to-blue-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-5xl font-bold text-white mb-6">칉ntreb캒ri Frecvente</h1>
            <p class="text-xl text-blue-100 max-w-3xl mx-auto">
                R캒spunsuri la cele mai comune 칥ntreb캒ri despre serviciile noastre.
            </p>
        </div>
    </section>

    <!-- FAQ Content -->
    <section class="py-20 bg-gray-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="space-y-8" x-data="{ openItem: null }">
                
                <!-- FAQ Item 1 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 1 ? null : 1"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">C칙t dureaz캒 un serviciu de auto detailing?</h3>
                        <svg 
                            :class="openItem === 1 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 1" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Durata depinde de serviciile selectate 탳i dimensiunea ma탳inii. O sp캒lare exterior de baz캒 dureaz캒 45-60 minute, 
                            칥n timp ce pachetul complet luxury poate dura p칙n캒 la 4 ore. 칉n configuratorul nostru vei vedea durata exact캒 
                            pentru selec탵ia ta.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 2 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 2 ? null : 2"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Ce include protec탵ia ceramic캒?</h3>
                        <svg 
                            :class="openItem === 2 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 2" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Protec탵ia ceramic캒 include preg캒tirea suprafe탵ei prin polish, aplicarea coating-ului ceramic profesional 탳i 
                            ofer캒 protec탵ie 칥mpotriva UV-ului, zgarieturilor minore 탳i chimicalelor pentru 12-24 luni. Este ideal pentru 
                            ma탳inile noi sau recent polizate.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 3 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 3 ? null : 3"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Cum func탵ioneaz캒 plata cu avans?</h3>
                        <svg 
                            :class="openItem === 3 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 3" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Pl캒te탳ti 30% din valoarea total캒 ca avans prin PayU Rom칙nia pentru a confirma rezervarea. 
                            Restul de 70% se achit캒 la finalizarea serviciului. Avansul este rambursabil doar 칥n cazul 
                            anul캒rii cu minimum 24 ore 칥nainte.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 4 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 4 ? null : 4"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Oferi탵i garan탵ie pentru servicii?</h3>
                        <svg 
                            :class="openItem === 4 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 4" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Da! Oferim "Standard Garan탵ia Reflex" - garan탵ie de satisfac탵ie 100% pentru toate serviciile. 
                            Pentru protec탵ia ceramic캒 oferim garan탵ie de 12 luni. Dac캒 nu e탳ti mul탵umit, refacem gratuit 
                            sau 칥탵i return캒m banii 칥n primele 7 zile.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 5 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 5 ? null : 5"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Pot s캒 r캒m칙n cu ma탳ina 칥n timpul serviciului?</h3>
                        <svg 
                            :class="openItem === 5 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 5" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Pentru serviciile sub 90 de minute po탵i r캒m칙ne 칥n zona de a탳teptare cu Wi-Fi gratuit 탳i cafea. 
                            Pentru serviciile mai lungi (protec탵ie ceramic캒, pachete complete) recomand캒m s캒 la탳i ma탳ina 탳i 
                            s캒 revii la ora stabilit캒.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 6 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 6 ? null : 6"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Ce materiale folosi탵i?</h3>
                        <svg 
                            :class="openItem === 6 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 6" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Folosim exclusiv materiale premium: 탳ampoane pH neutru, ceruri carnauba, coating-uri ceramice 
                            de tip SiO2, produse anti-bacteriene 탳i echipamente profesionale. Toate produsele sunt sigure 
                            pentru orice tip de vopsea 탳i materiale auto.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 7 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 7 ? null : 7"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Cum pot anula sau reprograma?</h3>
                        <svg 
                            :class="openItem === 7 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 7" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Po탵i anula sau reprograma cu minimum 24 ore 칥nainte prin telefon (+40 742 122 222) sau email. 
                            Anularea cu mai pu탵in de 24 ore 칥nseamn캒 pierderea avansului. Reprogramarea este gratuit캒 칥n 
                            primele 48 ore dup캒 rezervare.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 8 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 8 ? null : 8"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Lucra탵i 탳i 칥n weekend?</h3>
                        <svg 
                            :class="openItem === 8 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 8" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Da! Suntem deschisi Luni-Vineri 8:00-18:00, S칙mb캒t캒 8:00-16:00 탳i Duminic캒 10:00-15:00. 
                            Weekend-urile sunt foarte solicitate, a탳a c캒 recomand캒m rezervarea cu cel pu탵in 3 zile 칥nainte.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 9 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 9 ? null : 9"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Ave탵i locuri de parcare?</h3>
                        <svg 
                            :class="openItem === 9 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 9" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Avem parcare privat캒 pentru 6 ma탳ini chiar 칥n fa탵a centrului. Pentru serviciile de lung캒 durat캒, 
                            dac캒 zona este ocupat캒, avem parteneriat cu parcarea de la 50m distan탵캒 - 칥탵i oferim voucher gratuit.
                        </p>
                    </div>
                </div>

                <!-- FAQ Item 10 -->
                <div class="bg-white rounded-lg shadow-sm">
                    <button 
                        @click="openItem = openItem === 10 ? null : 10"
                        class="w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50 transition-colors"
                    >
                        <h3 class="text-lg font-semibold text-gray-900">Oferi탵i servicii la domiciliu?</h3>
                        <svg 
                            :class="openItem === 10 ? 'rotate-180' : ''"
                            class="w-5 h-5 text-gray-500 transition-transform"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        >
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div x-show="openItem === 10" x-transition class="px-6 pb-4">
                        <p class="text-gray-600">
                            Momentan oferim servicii doar 칥n centrul nostru pentru a garanta calitatea 탳i pentru c캒 avem echipamente 
                            specializate. Planific캒m s캒 introducem servicii mobile 칥n 2025 pentru anumite zone din Bucure탳ti.
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 bg-primary">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-bold text-white mb-6">
                Nu g캒se탳ti r캒spunsul c캒utat?
            </h2>
            <p class="text-xl text-blue-100 mb-8 max-w-2xl mx-auto">
                Contacteaz캒-ne direct 탳i 칥탵i r캒spundem 칥n c칙teva minute.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="/contact.html" class="bg-white text-primary px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-colors">
                    Contacteaz캒-ne
                </a>
                <a href="/rezervare.html" class="border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-white hover:text-primary transition-colors">
                    Programeaz캒 acum
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div class="col-span-2">
                    <div class="flex items-center mb-4">
                        <img src="/assets/logo.svg" alt="Scuderia Vision" class="h-8 w-auto">
                    <span class="ml-3 text-xl font-bold text-gray-900">Scuderia Vision</span>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Detaliu care se vede. Luciu care r캒m칙ne.
                    </p>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Naviga탵ie</h3>
                    <ul class="space-y-2">
                        <li><a href="/servicii.html" class="text-gray-400 hover:text-white transition-colors">Servicii</a></li>
                        <li><a href="/configurator.html" class="text-gray-400 hover:text-white transition-colors">Configurator</a></li>
                        <li><a href="/rezervare.html" class="text-gray-400 hover:text-white transition-colors">Rezervare</a></li>
                        <li><a href="/faq.html" class="text-gray-400 hover:text-white transition-colors">FAQ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li>游 +40 742 122 222</li>
                        <li>游닎 contact@detailers-vision.ro</li>
                        <li>游늸 Str. Crizantemei nr. 43, hala C4/2, Buftea, Ilfov</li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400">춸 2025 Scuderia Vision. Toate drepturile rezervate.</p>
                <div class="flex space-x-6 mt-4 md:mt-0">
                    <a href="/politici.html" class="text-gray-400 hover:text-white transition-colors">Politici</a>
                    <a href="/contact.html" class="text-gray-400 hover:text-white transition-colors">Contact</a>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Chat Assistant -->
    <script>
        // Chat Assistant for Detailer's Vision
        class ChatAssistant {
            constructor() {
                this.isOpen = false;
                this.messages = [];
                this.isTyping = false;
                this.apiKey = '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';
                this.apiUrl = 'https://openrouter.ai/api/v1/chat/completions';
                this.model = 'gpt-oss-120b';
                
                this.commonQuestions = [
                    "C칙t cost캒 o sp캒lare complet캒?",
                    "C칙t dureaz캒 serviciul de protec탵ie ceramic캒?",
                    "Oferi탵i garan탵ie pentru servicii?",
                    "Cum pot programa o 칥nt칙lnire?",
                    "Ce include pachetul premium?",
                    "Lucra탵i 탳i 칥n weekend?",
                    "Accepta탵i pl캒탵i cu cardul?",
                    "Pot s캒 r캒m칙n cu ma탳ina 칥n timpul serviciului?",
                    "Ce produse folosi탵i pentru cur캒탵are?",
                    "Ave탵i reduceri pentru clien탵ii fideli?"
                ];
                
                this.systemPrompt = `E탳ti asistentul virtual pentru Detailer's Vision, o companie premium de auto detailing din Rom칙nia.

INFORMA탴II DESPRE COMPANIE:
- Servicii: sp캒lare exterior, cur캒탵are interior, protec탵ie ceramic캒, polish faruri, eliminare mirosuri, cur캒탵are motor
- Pachete: Classic (150 RON), Elite (320 RON), Celebrity (650 RON)
- Program: Luni-Vineri 8:00-18:00, S칙mb캒t캒 8:00-16:00, Duminic캒 10:00-15:00
- Contact: +40 742 122 222, contact@detailers-vision.ro
- Adres캒: Str. Crizantemei nr. 43, hala C4/2, Buftea, Ilfov
- Plat캒 avans: 30% prin PayU Rom칙nia, restul la finalizare
- Garan탵ie: 100% satisfac탵ie, 12 luni pentru protec탵ia ceramic캒
- Anulare: cu 24h 칥nainte pentru rambursarea avansului

INSTRUC탴IUNI:
- R캒spunde DOAR 칥n rom칙n캒
- Fii prietenos, profesional 탳i util
- Ofer캒 informa탵ii precise despre servicii 탳i pre탵uri
- 칉ndrum캒 clien탵ii c캒tre configurator sau rezervare c칙nd e cazul
- Pentru 칥ntreb캒ri complexe, recomand캒 contactul direct
- Folose탳te informa탵iile de mai sus pentru r캒spunsuri precise
- Nu inventa pre탵uri sau servicii care nu exist캒`;
                
                // Initialize when DOM is ready
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', () => this.init());
                } else {
                    this.init();
                }
            }
            
            init() {
                console.log('Chat Assistant initializing...');
                this.createChatInterface();
                this.attachEventListeners();
                this.addWelcomeMessage();
                console.log('Chat Assistant initialized successfully');
            }
            
            createChatInterface() {
                console.log('Creating chat interface...');
                
                // Remove existing chat elements if they exist
                const existingButton = document.getElementById('chat-toggle');
                const existingContainer = document.getElementById('chat-container');
                if (existingButton) existingButton.remove();
                if (existingContainer) existingContainer.remove();
                
                // Chat toggle button
                const chatButton = document.createElement('div');
                chatButton.id = 'chat-toggle';
                chatButton.style.cssText = `
                    position: fixed;
                    bottom: 24px;
                    right: 24px;
                    width: 56px;
                    height: 56px;
                    background-color: #007AFF;
                    border-radius: 50%;
                    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.12);
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 9999;
                    transition: all 0.2s ease;
                `;
                chatButton.innerHTML = `
                    <svg style="width: 24px; height: 24px; color: white;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                `;
                
                // Chat container
                const chatContainer = document.createElement('div');
                chatContainer.id = 'chat-container';
                chatContainer.style.cssText = `
                    position: fixed;
                    bottom: 96px;
                    right: 24px;
                    width: 384px;
                    height: 500px;
                    max-width: calc(100vw - 48px);
                    background-color: white;
                    border-radius: 16px;
                    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.12);
                    z-index: 9998;
                    transform: translateY(100%);
                    opacity: 0;
                    transition: all 0.3s ease;
                    display: flex;
                    flex-direction: column;
                    overflow: hidden;
                `;
                chatContainer.innerHTML = `
                    <!-- Header -->
                    <div style="background-color: #007AFF; color: white; padding: 16px; display: flex; align-items: center; justify-content: space-between;">
                        <div style="display: flex; align-items: center;">
                            <div style="width: 32px; height: 32px; background-color: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px;">
                                <svg style="width: 16px; height: 16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                </svg>
                            </div>
                            <div>
                                <div style="font-weight: 600; font-size: 14px;">Asistent Scuderia Vision</div>
                                <div style="font-size: 12px; color: rgba(255,255,255,0.8);">Online acum</div>
                            </div>
                        </div>
                        <button id="chat-close" style="color: rgba(255,255,255,0.8); background: none; border: none; cursor: pointer; padding: 4px;">
                            <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <!-- Messages -->
                    <div id="chat-messages" style="flex: 1; overflow-y: auto; padding: 16px; display: flex; flex-direction: column; gap: 16px;">
                        <!-- Messages will be added here -->
                    </div>
                    
                    <!-- Common Questions -->
                    <div id="chat-suggestions" style="padding: 0 16px 8px 16px; display: block;">
                        <div style="font-size: 12px; color: #6B7280; margin-bottom: 8px;">칉ntreb캒ri frecvente:</div>
                        <div style="display: flex; flex-wrap: wrap; gap: 4px;">
                            ${this.commonQuestions.slice(0, 3).map(q => 
                                `<button class="suggestion-btn" style="font-size: 12px; background-color: #F3F4F6; padding: 4px 8px; border-radius: 9999px; border: none; cursor: pointer; transition: background-color 0.2s;" data-question="${q}">${q}</button>`
                            ).join('')}
                        </div>
                    </div>
                    
                    <!-- Input -->
                    <div style="border-top: 1px solid #E5E7EB; padding: 16px;">
                        <div style="display: flex; gap: 8px;">
                            <input 
                                type="text" 
                                id="chat-input" 
                                placeholder="Scrie mesajul t캒u..." 
                                style="flex: 1; padding: 8px 12px; border: 1px solid #E5E7EB; border-radius: 9999px; outline: none; font-size: 14px;"
                            >
                            <button 
                                id="chat-send" 
                                style="width: 40px; height: 40px; background-color: #007AFF; color: white; border-radius: 50%; border: none; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: background-color 0.2s;"
                            >
                                <svg style="width: 16px; height: 16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(chatButton);
                document.body.appendChild(chatContainer);
                
                console.log('Chat interface created successfully');
            }
            
            attachEventListeners() {
                console.log('Attaching event listeners...');
                
                const chatToggle = document.getElementById('chat-toggle');
                const chatClose = document.getElementById('chat-close');
                const chatInput = document.getElementById('chat-input');
                const chatSend = document.getElementById('chat-send');
                const chatContainer = document.getElementById('chat-container');
                
                if (!chatToggle) {
                    console.error('Chat toggle button not found!');
                    return;
                }
                
                chatToggle.addEventListener('click', () => this.toggleChat());
                if (chatClose) chatClose.addEventListener('click', () => this.closeChat());
                if (chatSend) chatSend.addEventListener('click', () => this.sendMessage());
                
                if (chatInput) {
                    chatInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.sendMessage();
                        }
                    });
                }
                
                // Suggestion buttons
                if (chatContainer) {
                    chatContainer.addEventListener('click', (e) => {
                        if (e.target.classList.contains('suggestion-btn')) {
                            const question = e.target.dataset.question;
                            this.sendMessage(question);
                        }
                    });
                }
                
                // Close chat when clicking outside
                document.addEventListener('click', (e) => {
                    if (this.isOpen && chatContainer && chatToggle && 
                        !chatContainer.contains(e.target) && !chatToggle.contains(e.target)) {
                        this.closeChat();
                    }
                });
                
                console.log('Event listeners attached successfully');
            }
            
            toggleChat() {
                console.log('Toggle chat called, isOpen:', this.isOpen);
                if (this.isOpen) {
                    this.closeChat();
                } else {
                    this.openChat();
                }
            }
            
            openChat() {
                console.log('Opening chat...');
                const container = document.getElementById('chat-container');
                if (container) {
                    container.style.transform = 'translateY(0)';
                    container.style.opacity = '1';
                }
                this.isOpen = true;
                
                // Focus input
                setTimeout(() => {
                    const input = document.getElementById('chat-input');
                    if (input) input.focus();
                }, 300);
                
                console.log('Chat opened');
            }
            
            closeChat() {
                console.log('Closing chat...');
                const container = document.getElementById('chat-container');
                if (container) {
                    container.style.transform = 'translateY(100%)';
                    container.style.opacity = '0';
                }
                this.isOpen = false;
                
                console.log('Chat closed');
            }
            
            addWelcomeMessage() {
                const welcomeMessage = {
                    type: 'bot',
                    content: 'Bun캒 ziua! Sunt asistentul virtual Scuderia Vision. Cum v캒 pot ajuta ast캒zi cu serviciile noastre de auto detailing?',
                    timestamp: new Date()
                };
                this.messages.push(welcomeMessage);
                this.renderMessage(welcomeMessage);
            }
            
            async sendMessage(messageText = null) {
                const input = document.getElementById('chat-input');
                const message = messageText || (input ? input.value.trim() : '');
                
                if (!message) return;
                
                // Clear input
                if (!messageText && input) {
                    input.value = '';
                }
                
                // Add user message
                const userMessage = {
                    type: 'user',
                    content: message,
                    timestamp: new Date()
                };
                this.messages.push(userMessage);
                this.renderMessage(userMessage);
                
                // Hide suggestions after first user message
                this.hideSuggestions();
                
                // Show typing indicator
                this.showTypingIndicator();
                
                try {
                    // Call OpenRouter API
                    const response = await this.callOpenRouterAPI(message);
                    
                    // Add bot response
                    const botMessage = {
                        type: 'bot',
                        content: response,
                        timestamp: new Date()
                    };
                    this.messages.push(botMessage);
                    this.hideTypingIndicator();
                    this.renderMessage(botMessage);
                    
                } catch (error) {
                    console.error('Chat API Error:', error);
                    this.hideTypingIndicator();
                    
                    const errorMessage = {
                        type: 'bot',
                        content: 'Ne pare r캒u, am 칥nt칙mpinat o problem캒 tehnic캒. V캒 rug캒m s캒 ne contacta탵i direct la +40 742 122 222 pentru asisten탵캒.',
                        timestamp: new Date()
                    };
                    this.messages.push(errorMessage);
                    this.renderMessage(errorMessage);
                }
            }
            
            async callOpenRouterAPI(message) {
                const response = await fetch(this.apiUrl, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${this.apiKey}`,
                        'Content-Type': 'application/json',
                        'HTTP-Referer': window.location.origin,
                        'X-Title': 'Scuderia Vision Chat Assistant'
                    },
                    body: JSON.stringify({
                        model: this.model,
                        messages: [
                            { role: 'system', content: this.systemPrompt },
                            ...this.messages.slice(-5).map(msg => ({
                                role: msg.type === 'user' ? 'user' : 'assistant',
                                content: msg.content
                            })),
                            { role: 'user', content: message }
                        ],
                        max_tokens: 300,
                        temperature: 0.7
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }
                
                const data = await response.json();
                return data.choices[0].message.content;
            }
            
            renderMessage(message) {
                const messagesContainer = document.getElementById('chat-messages');
                if (!messagesContainer) return;
                
                const messageDiv = document.createElement('div');
                messageDiv.style.cssText = `display: flex; ${message.type === 'user' ? 'justify-content: flex-end;' : 'justify-content: flex-start;'}`;
                
                const time = message.timestamp.toLocaleTimeString('ro-RO', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                const bubbleColor = message.type === 'user' ? '#007AFF' : '#F3F4F6';
                const textColor = message.type === 'user' ? 'white' : '#111827';
                const timeColor = message.type === 'user' ? 'rgba(255,255,255,0.7)' : '#6B7280';
                
                // Add schedule button for bot messages
                const scheduleButton = message.type === 'bot' ? `
                    <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid rgba(0,0,0,0.1);">
                        <button 
                            onclick="window.open('https://wa.me/40123456789?text=Bun캒%20ziua!%20A탳%20dori%20s캒%20programez%20o%20칥nt칙lnire%20pentru%20servicii%20de%20auto%20detailing.', '_blank')" 
                            style="
                                background-color: #007AFF; 
                                color: white; 
                                border: none; 
                                padding: 6px 12px; 
                                border-radius: 12px; 
                                font-size: 12px; 
                                font-weight: 600; 
                                cursor: pointer; 
                                transition: background-color 0.2s;
                                width: 100%;
                            "
                            onmouseover="this.style.backgroundColor='#0056CC'"
                            onmouseout="this.style.backgroundColor='#007AFF'"
                        >
                            游눫 Contacteaz캒 pe WhatsApp
                        </button>
                    </div>
                ` : '';
                
                messageDiv.innerHTML = `
                    <div style="max-width: 80%; background-color: ${bubbleColor}; color: ${textColor}; border-radius: 16px; padding: 12px 16px;">
                        <div style="font-size: 14px; line-height: 1.4;">${message.content}</div>
                        <div style="font-size: 12px; color: ${timeColor}; margin-top: 4px;">${time}</div>
                        ${scheduleButton}
                    </div>
                `;
                
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            hideSuggestions() {
                const suggestions = document.getElementById('chat-suggestions');
                if (suggestions) {
                    suggestions.style.display = 'none';
                }
            }
            
            showTypingIndicator() {
                if (this.isTyping) return;
                
                this.isTyping = true;
                const messagesContainer = document.getElementById('chat-messages');
                if (!messagesContainer) return;
                
                const typingDiv = document.createElement('div');
                typingDiv.id = 'typing-indicator';
                typingDiv.style.cssText = 'display: flex; justify-content: flex-start;';
                typingDiv.innerHTML = `
                    <div style="background-color: #F3F4F6; border-radius: 16px; padding: 12px 16px;">
                        <div style="display: flex; gap: 4px;">
                            <div style="width: 8px; height: 8px; background-color: #6B7280; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out;"></div>
                            <div style="width: 8px; height: 8px; background-color: #6B7280; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out; animation-delay: 0.16s;"></div>
                            <div style="width: 8px; height: 8px; background-color: #6B7280; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out; animation-delay: 0.32s;"></div>
                        </div>
                    </div>
                `;
                
                // Add bounce animation
                if (!document.getElementById('chat-bounce-style')) {
                    const style = document.createElement('style');
                    style.id = 'chat-bounce-style';
                    style.textContent = `
                        @keyframes bounce {
                            0%, 80%, 100% { transform: scale(0); }
                            40% { transform: scale(1); }
                        }
                    `;
                    document.head.appendChild(style);
                }
                
                messagesContainer.appendChild(typingDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            hideTypingIndicator() {
                this.isTyping = false;
                const typingIndicator = document.getElementById('typing-indicator');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
            }
        }
        // Initialize chat assistant when DOM is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                new ChatAssistant();
            });
        } else {
            new ChatAssistant();
        }
    </script>
</body>
</html>